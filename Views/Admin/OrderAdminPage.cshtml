@model IEnumerable<MovieShop.Models.Orders>

@{
    ViewBag.Title = "OrderAdminPage";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Order Admin Page</h2>

<div class="container" style="width:fit-content; text-align:center;">
    <h4 style="background-color:#000; color:#FFF"> Choose an order to display the order details</h4>
    @{
        string OrderID = "";
        List<SelectListItem> orderList = new List<SelectListItem>();
        foreach (var order in Model.Select(o => o.Id).Distinct())
        {
            orderList.Add(new SelectListItem { Text = order.ToString(), Value = order.ToString() });
        }
    }

    @Html.DropDownList("OrderList", orderList, "Select an Order ID",
    new
    {
        @class = "form-control selectpicker bg-transparent",
        method = "post",
        onchange = "getTheOrderID(this.selectedIndex)",
        id = "OrderIDList",
        style = "padding -left:20px; margin: 5px auto;"
    })
</div>
<hr />
<p id="ShowOrderID">Order ID Selected: 0</p>

<div hidden>
    <table>
        <caption>Details of Order</caption>
        <thead></thead>
        <tbody></tbody>

    </table>


</div>

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script>
    function getTheOrderID(index) {
        console.log("Index: " + index);
        var id = document.querySelector("#OrderIDList").item(index).getAttribute("value");
        document.querySelector("#ShowOrderID").innerText="Order id selected: " + id;
        }
</script>
